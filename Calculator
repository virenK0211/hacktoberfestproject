import tkinter as tk
from tkinter import messagebox

# Function to update the input field when a button is pressed
def button_click(item):
    current = input_text.get()
    input_text.set(current + str(item))

# Function to clear the input field
def button_clear():
    input_text.set("")

# Function to evaluate the final expression
def button_equal():
    try:
        result = str(eval(input_text.get()))  # `eval` evaluates the string as a mathematical expression
        input_text.set(result)
    except Exception as e:
        messagebox.showerror("Error", "Invalid Input")  # Handling invalid input errors
        input_text.set("")

# Main window
root = tk.Tk()
root.title("Calculator")
root.geometry("400x500")

# StringVar to store the input field content
input_text = tk.StringVar()

# Entry field for displaying the input and results
input_frame = tk.Frame(root)
input_frame.pack()

input_field = tk.Entry(input_frame, textvariable=input_text, font=('Arial', 18), bd=10, insertwidth=2, width=14, borderwidth=4)
input_field.grid(row=0, column=0)
input_field.pack(ipady=10)  # `ipady` is for padding the entry field

# Buttons frame
btns_frame = tk.Frame(root)
btns_frame.pack()

# First row
clear = tk.Button(btns_frame, text="C", width=32, height=3, command=button_clear)
clear.grid(row=0, column=0, columnspan=3)

divide = tk.Button(btns_frame, text="/", width=10, height=3, command=lambda: button_click("/"))
divide.grid(row=0, column=3)

# Second row
seven = tk.Button(btns_frame, text="7", width=10, height=3, command=lambda: button_click("7"))
seven.grid(row=1, column=0)

eight = tk.Button(btns_frame, text="8", width=10, height=3, command=lambda: button_click("8"))
eight.grid(row=1, column=1)

nine = tk.Button(btns_frame, text="9", width=10, height=3, command=lambda: button_click("9"))
nine.grid(row=1, column=2)

multiply = tk.Button(btns_frame, text="*", width=10, height=3, command=lambda: button_click("*"))
multiply.grid(row=1, column=3)

# Third row
four = tk.Button(btns_frame, text="4", width=10, height=3, command=lambda: button_click("4"))
four.grid(row=2, column=0)

five = tk.Button(btns_frame, text="5", width=10, height=3, command=lambda: button_click("5"))
five.grid(row=2, column=1)

six = tk.Button(btns_frame, text="6", width=10, height=3, command=lambda: button_click("6"))
six.grid(row=2, column=2)

minus = tk.Button(btns_frame, text="-", width=10, height=3, command=lambda: button_click("-"))
minus.grid(row=2, column=3)

# Fourth row
one = tk.Button(btns_frame, text="1", width=10, height=3, command=lambda: button_click("1"))
one.grid(row=3, column=0)

two = tk.Button(btns_frame, text="2", width=10, height=3, command=lambda: button_click("2"))
two.grid(row=3, column=1)

three = tk.Button(btns_frame, text="3", width=10, height=3, command=lambda: button_click("3"))
three.grid(row=3, column=2)

plus = tk.Button(btns_frame, text="+", width=10, height=3, command=lambda: button_click("+"))
plus.grid(row=3, column=3)

# Fifth row
zero = tk.Button(btns_frame, text="0", width=21, height=3, command=lambda: button_click("0"))
zero.grid(row=4, column=0, columnspan=2)

decimal = tk.Button(btns_frame, text=".", width=10, height=3, command=lambda: button_click("."))
decimal.grid(row=4, column=2)

equal = tk.Button(btns_frame, text="=", width=10, height=3, command=button_equal)
equal.grid(row=4, column=3)

# Run the main window loop
root.mainloop()
